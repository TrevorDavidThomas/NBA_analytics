# NBA_analytics
The contents of this repository focus on gathering, analyzing, and visualizing NBA data, and form the basis for the work displayed on [VisualizingTheLeague.com](https://visualizingtheleague.com/). This readme describes the composition of those contents, with scripts and their descriptions split into categories of gathering/processing and analyzing/visualizing.

## Gathering and Processing Data
The code described here consists mainly of R scripts that pull and process data from the stats.nba API and/or [basketball-reference.com](https://www.basketball-reference.com/). These scripts tend to output data to the 'data' folder in this repository, provided that 1) the data files are relatively small, 2) they're used as inputs in other scripts in the repository, and 3) they're unlikely to be frequently updated or otherwise edited.

* **dataAssembly_historicalRoster.R** Code used to get full historical NBA roster from stats.nba API (using `httr` and `jsonlite` packages). Roster consists of name and other identifying information (including begin/end years and current team, but with no stats or other player attributes. Saves to dataframe 'players_fullRoster_df.RData'.

* **dataAssembly_coachingStaffs_bballRef.R** Code used to scrape head and assistant coaching records from basketball-reference.com (using `rvest` package), saving the results to two lists, for head and assistant records respectively, containing a dataframe with year/team/outcome data for each coach on record (both lists contained in 'coachingLists_bbref.RData').

* **dataAssembly_draftCombine_defAdvStats.R** Code used to get full set of available draft combine data from the stats.nba API, to get associated span of advanced defensive stats from Basketball Reference (via `ballr` package, which provides out of the box functions for scraping yearly and career statistical records), and to join and clean these datasets such that they can be used to model relationshp between advanced defensive stats and combine measures. Output files include a list of raw, year-specific combine dataframes ('combineStats_allYrList.RData'); raw, year specific advanced stats dataframes ('advanceStats_2000toPresent_allYrList.RData'); single, cleaned dataframes for advanced stats and combine measures ('advanceStats_fin_df_2000_01toPresent.RData' and 'combine_fin_df.RData'); and a joined dataframe in which the combine stats and defensive stats are joined on player name and cleaned ('combine_advDef_final_df.RData').
